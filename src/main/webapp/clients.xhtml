<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link type="text/css" rel="stylesheet" href="themes/bluesky/skin.css" />
</h:head>

<h:body>

	<center>
		<h:form id="formDataTable">
			<p:panel header="Liste de vos clients" style="width: 700;" />
			<p:dataTable var="user" value="#{conseiller.clientList}"
				selection="#{conseiller.client}" selectionMode="single"
				style="width: 700" rowKey="#{user.iDPersonne}"
				first="#{user.iDPersonne}" editable="true">
				<p:ajax event="rowSelect" update=":formDataTable:userUpdateForm"
					listener="#{conseiller.SelectUser}" />


				<p:column sortBy="#{user.iDPersonne}">
					<f:facet name="header">
						<h:outputText value="Id" />
					</f:facet>
					<h:outputText value="#{user.iDPersonne}" />
				</p:column>

				<p:column sortBy="#{user.nom}">
					<f:facet name="header">
						<h:outputText value="Nom" />
					</f:facet>
					<h:outputText value="#{user.nom}" />
				</p:column>
				<p:column sortBy="#{user.prenom}">
					<f:facet name="header">
						<h:outputText value="Prenom" />
					</f:facet>
					<h:outputText value="#{user.prenom}" />
				</p:column>
				<p:column sortBy="#{user.adresse}">
					<f:facet name="header">
						<h:outputText value="Adresse" />
					</f:facet>
					<h:outputText value="#{user.adresse}" />
				</p:column>
				<p:column sortBy="#{user.email}">
					<f:facet name="header">
						<h:outputText value="Email" />
					</f:facet>
					<h:outputText value="#{user.email}" />
				</p:column>

				<p:column sortBy="#{user.iDCourant}">
					<f:facet name="header">
						<h:outputText value="Numéro de compte courant" />
					</f:facet>
					<h:outputText value="#{user.iDCourant}" />
				</p:column>

				<p:column sortBy="#{user.soldeCourant}">
					<f:facet name="header">
						<h:outputText value="Solde compte courant" />
					</f:facet>
					<h:outputText value="#{user.soldeCourant}" />
				</p:column>

				<p:column sortBy="#{user.iDEpargne}">
					<f:facet name="header">
						<h:outputText value="Numéro de compte epargne" />
					</f:facet>
					<h:outputText value="#{user.iDEpargne}" />
				</p:column>

				<p:column sortBy="#{user.soldeEpargne}">
					<f:facet name="header">
						<h:outputText value="Solde compte epargne" />
					</f:facet>
					<h:outputText value="#{user.soldeEpargne}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Supprimer le client" />
					</f:facet>

					<h:commandLink type="delete" value="Supprimer le client"
						action="#{client.supprimer(user)}">
					</h:commandLink>
				</p:column>

			</p:dataTable>

			<p:panel id="userDetailsPanelId" header="Modifier un client"
				style="width: 700;" widgetVar="oneUser">
				<h:panelGrid columns="2" cellpadding="2" id="userUpdateForm"
					border="0">

					<h:outputLabel for="#{client.nom}" value="Nom" />
					<h:inputText value="#{conseiller.client.nom}"
						style="width: 100;" editable="true"></h:inputText>

					<h:outputLabel for="#{client.prenom}" value="Prenom" />
					<h:inputText value="#{conseiller.client.prenom}"
						editable="true"></h:inputText>

					<h:outputLabel for="#{client.email}" value="Email" />
					<h:inputText value="#{conseiller.client.email}" editable="true"></h:inputText>

					<h:outputLabel for="#{client.adresse}" value="Adresse" />
					<h:inputText value="#{conseiller.client.adresse}"
						editable="true"></h:inputText>

					<h:commandButton type="submit" value="Modifier"
						action="#{client.modifier()}"></h:commandButton>

				</h:panelGrid>
			</p:panel>


		</h:form>
	</center>

</h:body>
</html>